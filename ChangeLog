2001-07-12  Martin Baulig  <baulig@suse.de>

	* bonobo/bonobo-ui-engine.c: Fix signal marshaller for EMIT_EVENT_ON.

	* bonobo/bonobo-ui-component.c: Fix signal marshaller for UI_EVENT.

2001-07-05  Tim Mooney <mooney@dogbert.cc.ndsu.NoDak.edu>

	* bonobo/bonobo-view.c: add a placeholder member to _BonoboViewPrivate
	struct, since most compilers object to empty structs.

2001-07-07  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-ui-container.c (bonobo_ui_container_set_engine):
	port to GObject.

	* bonobo/bonobo-ui-main.c (bonobo_ui_init_full):
	always init gtk+, leave gnome_ bits as optional on full_init.

	* bonobo/bonobo-win.c (bonobo_window_construct): add
	ui container bits. (bonobo_window_new): ditto.
	(bonobo_window_get_ui_container): impl.
	(bonobo_window_set_ui_container): remove.

	* bonobo/bonobo-ui-engine-config.c (create_popup_engine):
	set view to NULL.

2001-07-06  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-ui-engine.c
	(bonobo_ui_engine_get_view): impl.
	(bonobo_ui_engine_new, bonobo_ui_engine_construct): upd,
	adding view.
	(bonobo_ui_engine_get_ui_container): impl. for symmetry.
	(bonobo_ui_engine_set_ui_container): upd. preconditions.

	* bonobo/bonobo-win.c (construct_priv): set the view.

	* bonobo/bonobo-ui-container.c
	(bonobo_ui_container_set_win),
	(bonobo_ui_container_get_win): remove; deprecated. 
	upd.

	* bonobo/bonobo-win.c
	(bonobo_window_deregister_dead_components),
	(bonobo_window_register_component),
	(bonobo_window_deregister_component),
	(bonobo_window_deregister_component_by_ref),
	(bonobo_window_deregister_get_component_names),
	(bonobo_window_component_get),
	(bonobo_window_xml_node_exists), 
	(bonobo_window_object_set), 
	(bonobo_window_object_get), 
	(bonobo_window_xml_merge_tree), 
	(bonobo_window_xml_merge), 
	(bonobo_window_xml_rm), 
	(bonobo_window_freeze), 
	(bonobo_window_thaw), 
	(bonobo_window_xml_get),
	(bonobo_window_dump), 
	(bonobo_window_set_ui_container):  remove a few deprecated
	methods NB. use the equivalents on the BonoboUIEngine.

	* bonobo/bonobo-win.h: kill from header too.

	* tests/test-ui.c (main): don't call bonobo_ui_init - it get's
	libgnome to do seriously whacked out things.

2001-07-06  Christian Rose  <menthos@menthos.com>

	* configure.in: Added sv to ALL_LINGUAS.

2001-07-02  Carlos Perelló Marín <carlos@gnome-db.org>

	* bonobo/bonobo-canvas-component.c, bonobo/bonobo-control.c,
	bonobo/bonobo-control-frame.c, bonobo/bonobo-embeddable.c,
	bonobo/bonobo-ui-component.c, bonobo/bonobo-view.c:
	/s/g_signal_newc/g_signal_new/ to sync with the latest glib.

2001-06-29  Anders Carlsson  <andersca@codefactory.se>

	* bonobo/bonobo-ui-component.c (impl_get_prop): Use CORBA_free
	since bonobo_ui_component_get returns a CORBA_char.

Sat Jun 30 16:11:37 2001  Jonathan Blandford  <jrb@redhat.com>

	* bonobo/bonobo-embeddable.c (make_canvas_component): change
	g_signal_connect_data arguments to match new signature
	(impl_Bonobo_Embeddable_createView): ditto

	* bonobo/bonobo-ui-engine.c (bonobo_ui_engine_set_ui_container):
	ditto.

2001-06-28  Michael Meeks  <michael@ximian.com>

	* bonobo/*.h: update for new gmacros location, requires HEAD
	glib.

	* *.c: include string.h where neccessary, update includes,
	misc warning fixes.

2001-06-26  Darin Adler  <darin@bentspoon.com>

        * bonobo/bonobo-win.c: (construct_priv): Don't connect
        a signal handler.
        (bonobo_window_key_press_event): Use a default handler, and call
        the inherited one first. This gives the focused widget first
        crack at the event, and prevents us from having two things that
        both handle the same event.
        (bonobo_window_class_init): Point to the default handler.

2001-06-21  Mike Kestner <mkestner@speakeasy.net>

	* bonobo/bonobo-ui-node.c (do_strip): Move XML_TEXT_NODE to the
	"suspicious" branch so whitespace nodes are stripped from the tree.

2001-06-19  Héctor García Álvarez <hector@scouts-es.org>

	* configure.in: added "es" for Spanish to $ALL_LINGUAS

2001-06-15  Dietmar Maurer  <dietmar@ximian.com>

	* bonobo/bonobo-view.c: added something to the empty structure to
	stop compiler warnings on solaris.

	* bonobo/bonobo-ui-sync.c (bonobo_ui_sync_state): return void
	(bonobo_ui_sync_state_placeholder): return void

2001-06-13  Stanislav Visnovsky  <visnovsky@nenya.ms.mff.cuni.cz>

	* configure.in: Added "sk" for Slovak to $ALL_LINGUAS

2001-06-10  Martin Baulig  <baulig@suse.de>

	* bonobo/bonobo-ui-engine-config.c: #ifdef FIXME all gnome-config calls.

Sun Jun 10 01:27:57 2001  Malcolm Tredinnick <malcolm@commsecure.com.au>

	* bonobo/bonobo-control.c (impl_Bonobo_Control_focus): altered a
	  gtk_container_focus() call to be a gtk_widget_child_focus() call
	  (matching a recent gtk+ change).

2001-06-07  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: Added "az", "wa" and Norwegian to $ALL_LINGUAS

2001-06-01  Joe Shaw  <joe@ximian.com>

	* bonobo/bonobo-canvas-component.c: Added 
	_bonobo_boolean_handled_accumulator(), ripped from gtk+/gtk/gtkmain.c.

2001-05-31  Joe Shaw  <joe@ximian.com>

	* bonobo/bonobo-canvas-component.c: GObjectify. Change calls to
	GNOME_CANVAS_ITEM_CLASS() to GNOME_CANVAS_ITEM_GET_CLASS(). Make
	gcc_destroy() gcc_finalize().

	* bonobo/bonobo-embeddable.c: GObjectify. Change
	bonobo_embeddable_destroy() to bonobo_embeddable_finalize()

	* bonobo/bonobo-view.c: GObjectify. Delete
	gnome_marshal_NONE__DOUBLE.

2001-05-30  Dietmar Maurer  <dietmar@ximian.com>

	* bonobo/bonobo-control.c (bonobo_control_set_properties): pass a
	Bonobo_PropertyBag instead of a BonoboPropertyBag
	(bonobo_control_get_properties): return a Bonobo_PropertyBag

2001-05-30  Johan Dahlin  <zilch.am@home.se>

	* bonobo/bonobo-ui-toolbar-item.h: Removed duplicate prototypes.
	
2001-05-30  Christophe Merlet  <redfox@eikonex.org>

	* configure.in: Added fr to $ALL_LINGUAS

2001-05-25  Joe Shaw  <joe@ximian.com>

	* bonobo/bonobo-ui-engine-config.c (dialog_new),
	bonobo/bonobo-selector.c (bonobo_selector_construct):
	GTK_STOCK_BUTTON_OK -> GTK_STOCK_OK

2001-05-19  Martin Baulig  <baulig@suse.de>

	* bonobo/bonobo-plug.[ch]: Derive from GtkPlug.
	* bonobo/bonobo-socket.[ch]: Derive from GtkSocket.

	* bonobo/bonobo-control.c (process_events): Use g_main_context_pending()
	and g_main_context_iteration() instead of gtk_events_pending() and
	gtk_main_iteration().

2001-05-06  Martin Baulig  <baulig@suse.de>

	* bonobo/bonobo-ui-toolbar-control-item.c
	(set_control_property_bag_value): Use the new bonobo_pbclient_set_value().

2001-05-02  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-embeddable.c (impl_Bonobo_Embeddable_advise),
	(impl_Bonobo_Embeddable_unadvise): kill.
	(bonobo_embeddable_class_init): upd.

	* changes.txt: add to document changes

	* bonobo/Makefile.am: remove bonobo-desktop.[ch]

	* bonobo/bonobo-desktop.[ch]: remove.

2001-05-02  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-widget.c (bonobo_widget_launch_component),
	(bonobo_widget_get_objref): kill BonoboObjectClient

	* bonobo/bonobo-client-site.c (bonobo_client_site_bind_embeddable),
	(bonobo_client_site_get_embeddable): kill BonoboObjectClient.

2001-05-01  Michael Meeks  <michael@ximian.com>

	* bonobo/bonobo-ui-component.c (bonobo_ui_component_set_container),
	(bonobo_ui_component_unset_container, impl_set_prop),
	(bonobo_ui_component_add_verb_list_with_data):  kill theoretical
	re-enterancy issues.

2001-05-01  Martin Baulig  <baulig@suse.de>

	* bonobo/bonobo-control.[ch]: Use GObject, not GtkObject.
	* bonobo/bonobo-control-frame.[ch]: Likewise.
	* bonobo/bonobo-ui-component.[ch]: Likewise.
	* bonobo/bonobo-ui-container.[ch]: Likewise.

	* bonobo/bonobo-ui-engine.c (impl_destroy): Removed and put
	all the stuff into finalize; `destroy' may be run multiple
	times with GTK+ 2.0, so it's easier to have this in finalize.

	* bonobo/bonobo-widget.c (bonobo_widget_destroy): Renamed to
	bonobo_widget_finalize(), we use `finalize' since `destroy'
	may be run multiple times.

2001-05-01  Martin Baulig  <baulig@suse.de>

	* bonobo/Makefile.am: Install all our header files.

2001-05-01  Martin Baulig  <baulig@suse.de>

	* libbonoboui.h: Don't #include bonobo-print.h and
	bonobo-print-client.h for the moment.

2001-05-01  Martin Baulig  <baulig@suse.de>

	* bonobo/bonobo-win.c (construct_priv): #ifdef FIXME call
	to gtk_menu_bar_set_shadow_type().

2001-05-01  Martin Baulig  <baulig@suse.de>

	* bonobo/bonobo-selector-widget.c: #include
	<libgnome/gnome-preferences.h> instead of
	<libgnomeui/gnome-uidefs.h>.
	* bonobo/bonobo-ui-sync-static.c: Likewise.

	* bonobo/bonobo-ui-sync-menu.c: #include
	<libgnome/gnome-preferences.h> instead of
	<libgnomeui/gnome-preferences.h>.
	* bonobo/bonobo-ui-sync-toolbar.c: Likewise.
	* bonobo/bonobo-win.c: Likewise.

	* bonobo/bonobo-ui-sync-menu.h: #include <gtk/gtkmenubar.h>.

2001-05-01  Martin Baulig  <baulig@suse.de>

	* bonobo/bonobo-ui-main.[ch]: New files.
	(bonobo_ui_init, bonobo_ui_init_full): New functions to
	initialize libbonoboui.
	(bonobo_setup_x_error_handler): Moved here from libbonobo.

2001-05-01  Martin Baulig  <baulig@suse.de>

	* tests/*.c: Make the tests actually work.

	* Makefile.am (SUBDIRS): Added tests/.

2001-05-01  Martin Baulig  <baulig@suse.de>

	* bonobo/libbonoboui-2.0.pc.in: Make this actually work.

2001-04-25  Martin Baulig  <baulig@suse.de>

	* bonobo/bonobo-dock.[ch], bonobo/bonobo-dock-item.[ch],
	bonobo/bonobo-dock-band.[ch], bonobo/bonobo-dock-layout.[ch]:
	Moved here from libgnomeui/libgnomeui/gnome-dock*.[ch] and
	renamed from GnomeDock -> BonoboDock.

	* bonobo/bonobo-ui-sync-toolbar.[ch], bonobo/bonobo-win.c:
	s/GnomeDock/BonoboDock/g; s/gnome_dock/bonobo_dock/g;.

2001-04-24  Martin Baulig  <baulig@suse.de>

	* bonobo/bonobo-ui-sync-menu.c (impl_bonobo_ui_sync_menu_state):
	Use GtkImageMenuItem instead of GtkPixmapMenuItem.
	(impl_bonobo_ui_sync_menu_state): Comment out accelerator stuff.

	* bonobo/bonobo-ui-sync-toolbar.c
	(cmd_get_toolbar_pixbuf): Renamed to cmd_get_toolbar_image() and let
	it return a GtkWidget.

	* bonobo/bonobo-ui-toolbar-button-item.c
	(create_pixmap_widget_from_pixbuf): Removed.
	(set_icon): Renamed to set_image() and let it return a GtkWidget.

	* bonobo/bonobo-ui-toolbar-button-item.h
	(bonobo_ui_toolbar_button_item_set_icon): Renamed to
	bonobo_ui_toolbar_button_set_image() and changed argument from
	GdkPixbuf to GtkWidget.
	(BonoboUIToolbarButtonItemClass): Changed argument of `set_icon'
	from GdkPixbuf to GtkWidget.

	* bonobo/bonobo-ui-util.c (get_stock_pixbuf): Removed.
	(bonobo_ui_util_xml_get_icon_pixbuf): Removed.
	(bonobo_ui_util_xml_get_icon_pixmap_widget): Move functionality
	from bonobo_ui_util_xml_get_icon_pixbuf() and use the GtkStock
	system.

2001-04-24  Martin Baulig  <baulig@suse.de>

	* configure.in: Depend on libgnome.

	* bonobo/Makefile.am (INCLUDES): Added BONOBO_UIDIR.

	* bonobo/bonobo-ui-util.c
	(convert_from_chromakey, pixbuf_from_imlib): Removed.
	(get_stock_pixbuf): Use find_pixmap_in_path() instead of
	gnome_pixmap_file().
	(find_pixmap_in_path): Use gnome_program_locate_file() to
	locate the pixmap file instead of our own parser.
	(bonobo_ui_util_xml_get_icon_pixmap_widget): Create and
	return a GtkImage instead of a GnomePixmap.
	(bonobo_ui_util_build_help_menu): `#ifdef FIXME' this.
	
2001-04-24  Martin Baulig  <baulig@suse.de>

	* bonobo/bonobo-insert-component.xpm: constify this.

	* bonobo/bonobo-selector-widget.c (bonobo_selector_widget_init):
	use GdkPixbuf/GtkImage instead of GnomePixmap.

2001-04-24  Martin Baulig  <baulig@suse.de>

	* bonobo/bonobo-selector.[ch]: Use GtkDialog, not GnomeDialog.

	* bonobo/bonobo-ui-engine-config.c (dialog_new): Use GtkDialog,
	not GnomeDialog.

2001-04-24  Martin Baulig  <baulig@suse.de>

	* bonobo/bonobo-zoomable.h (BonoboZoomableClass):
	Added `POA_Bonobo_Zoomable__epv epv'.
	(bonobo_zoomable_get_epv): Removed.
	(bonobo_zoomable_corba_object_create): Removed.
	(bonobo_zoomable_construct): Removed.

	* bonobo/bonobo-zoomable-frame.h (BonoboZoomableFrameClass):
	Added `POA_Bonobo_ZoomableFrame__epv epv'.
	(bonobo_zoomable_frame_get_epv): Removed.
	(bonobo_zoomable_frame_corba_object_create): Removed.
	(bonobo_zoomable_frame_construct): Removed.

	* bonobo/bonobo-zoomable.c, bonobo/bonobo-zoomable-frame.c:
	Use the new BonoboObject API (the code which was formerly known
	as BonoboXObject).

2001-04-24  Martin Baulig  <baulig@suse.de>

	* bonobo/*.c: Did the basic GTK+ 2.0 porting work, but without
	any real code changes.

2001-04-24  Martin Baulig  <baulig@suse.de>

	* bonobo/Makefile.am (INCLUDES, libbonoboui_la_LIBADD):
	Use the correct CFLAGS and LIBS to make this actually work.
	(libbonoboui_la_SOURCES): Removed bonobo-item-container.c and
	bonobo-property-bag-xml.c.

	* bonobo/bonobo-insert-component.xpm: Moved this here from the
	staging directory.
	
2001-04-19  Michael Meeks  <michael@ximian.com>

	* *.[ch]:
	s/bonobo-xobject/bonobo-object/g;
	s/BonoboXObject/BonoboObject/g;
	s/bonobo_x_object/bonobo_object/g;
	s/BONOBO_X_/BONOBO_/g;
	s/<libgnomebase\/gnome-defs.h>/<gmacros.h>/;
	s/BEGIN_GNOME_DECLS/G_BEGIN_DECLS/g;
	s/END_GNOME_DECLS/G_END_DECLS/g;
	
2001-04-19  Michael Meeks  <michael@ximian.com>

	* bonobo/Makefile.am: add.

	* bonobo/libbonoboui-2.0.pc.in: add.

2001-04-18  Michael Meeks  <michael@ximian.com>

	* tests/Makefile.am: upd.

2001-04-18  Michael Meeks  <michael@ximian.com>

	* bonobo.h: add.

	* libbonoboui.h: add

